/*! caro.js - v0.6.5 - 2012-11-01
* http://bebraw.github.com/caro.js/
* Copyright (c) 2012 Juho Vepsalainen; Licensed MIT */
(function(e){function t(e,t){r(e,t,"left","width")}function n(e,t){r(e,t,"top","height")}function r(t,n,r,p){function w(e,t){return function(){n.cycle?(b=e(b,y-1),b<0&&(b=y-1),b>y-1&&(b=0)):b=i(e(b,y-1),0,y-1);var s={};s[r]=b*-100+"%",m.animate(s,n.delay,t),E(b)}}function E(e){f(g,e),n.cycle||l(t,e,y),c(v,e),n.resize&&d.animate({height:v.eq(b).height()},n.resizeDelay)}var d=t.find(".slides"),v=d.children().append(e("<div>")),m=e("<div>").append(v).appendTo(d),g=t.find("."+n.naviClass),y=v.length,b=0;s(d,p,m,r,v),o(v,g,w,n.autoNavi),u(t,m,w),a(t,m,w,n.autoPlay,n.still),n.resize&&d.height(v.eq(b).height()),E(b),h(t)}function i(e,t,n){return Math.min(Math.max(e,t),n)}function s(t,n,r,i,s){t.css("overflow","hidden");var o={position:"relative"};o[n]=s.length*100+"%",o[i]="0%",r.css(o);var u={display:i=="top"?"auto":"inline-block","vertical-align":"top"},a=100/s.length;u[n]=parseInt(a,10)+"%",n=="width"?u["padding-right"]=a-parseInt(a,10)+"%":u["padding-bottom"]=a-parseInt(a,10)+"%",s.each(function(t,n){e(n).css(u).addClass("slide")})}function o(t,n,r,i){t.each(function(t,s){var o=e("<a>",{href:"#"}).css("display","inline").bind("click",function(e){e.preventDefault(),r(function(){return t})()}).appendTo(n).addClass("title button");i?e(s).clone().appendTo(o):o.text(e(s).attr("title")||t+1)})}function u(e,t,n){function r(r,i){e.find(r).bind("click",function(e){e.preventDefault(),t.clearQueue(),n(i)()})}r(".prev",function(e){return e-1}),r(".next",function(e){return e+1}),r(".first",function(){return 0}),r(".last",function(e,t){return t})}function a(t,n,r,i,s){var o=r(function(e,t){return e==t?0:e+1},function(){e(this).delay(s).queue(function(){o(),e(this).dequeue()})});t.find(".play").bind("click",function(e){e.preventDefault(),o()}),t.find(".stop").bind("click",function(e){e.preventDefault(),n.clearQueue()})}function f(e,t){var n=e.find(".title.button");n.removeClass("selected"),n.eq(t).addClass("selected")}function l(e,t,n){var r=e.find(".first,.prev"),i=e.find(".last,.next");t===0?r.addClass("disabled"):r.removeClass("disabled"),t==n-1?i.addClass("disabled"):i.removeClass("disabled")}function c(t,n){t.each(function(t,r){e(r).removeClass("prev").removeClass("next"),t==n-1&&e(r).addClass("prev"),t==n&&e(r).addClass("current"),t==n+1&&e(r).addClass("next")})}function h(t){return t.each(function(){e(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}e.fn.caro=function(r){return this.each(function(){var i=e(this),s=e.extend({dir:"horizontal",delay:300,still:1e3,autoPlay:!1,naviClass:"navi",autoNavi:!1,cycle:!1,resize:!0,resizeDelay:300},r),o=s.dir=="horizontal"?t:n;o(i,s)})}})(jQuery);